"use strict";(()=>{var h=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var p=(i,t,e)=>t in i?h(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,f=(i,t)=>{for(var e in t||(t={}))y.call(t,e)&&p(i,e,t[e]);if(g)for(var e of g(t))A.call(t,e)&&p(i,e,t[e]);return i};var c=class{constructor(t,e){this.selector=t,this.options=e}setAttrs(t,e){t.forEach((r,u)=>{let l=Array.from(r.childNodes),a=(o,n)=>o.replace(/[^A-Z]+/gi,"").toLowerCase()+"-"+n;l.length&&this.setAttrs(l,e),r.dataset&&Object.keys(r.dataset).indexOf("toc")!==-1&&(r.setAttribute("id",a(r.textContent,u)),e({id:r.getAttribute("id"),level:parseInt(r.getAttribute("data-toc")),title:r.textContent.trim()}))})}parse(){let t=document.querySelector(this.selector),e=f({},this.options.customClass);if(!t)throw Error("Invalid selector");let r=[],u=Array.from(t.childNodes);this.setAttrs(u,s=>r.push(s));let l=s=>s?`class="${s}"`:"",a=s=>{let m=`<a ${l(e.a)} href="#${s.id}">${s.title}</a>`;return`<li ${l(e.li)}>${m}</li>`},o=1,n="";return r.forEach(s=>{s.level===o?n+=a(s):s.level<o?n+="</ol>".repeat(o-s.level)+a(s):n+=`<ol ${l(e.ol)}>${a(s)}`,o=s.level}),`<ol ${l(e.ol)}>${n}</ol>`}render(){let t=document.querySelector(this.options.target);if(!t)throw Error("Invalid selector");t.innerHTML=String(this.parse())}};window.TOCParser=c;})();
