"use strict";(()=>{var f=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var p=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m=(r,e)=>{for(var t in e||(e={}))y.call(e,t)&&p(r,t,e[t]);if(g)for(var t of g(e))h.call(e,t)&&p(r,t,e[t]);return r};var a=class{constructor(e,t){this.selector=e,this.options=t}setAttrs(e,t){e.forEach((s,c)=>{let u=Array.from(s.childNodes),n=(i,o)=>i.replace(/[^A-Z]+/gi,"").toLowerCase()+"-"+o;u.length&&this.setAttrs(u,t),s.dataset&&Object.keys(s.dataset).indexOf("toc")!==-1&&(s.setAttribute("id",n(s.textContent,c)),t({id:s.getAttribute("id"),level:parseInt(s.getAttribute("data-toc")),title:s.textContent.trim()}))})}render(){let e=document.querySelector(this.selector),t=document.querySelector(this.options.target),s=m({},this.options.customClass);if(!e||!t)throw Error("Invalid selector");let c=[],u=Array.from(e.childNodes);this.setAttrs(u,l=>c.push(l));let n=l=>`<li class="${s.li}"><a class="${s.a}" href="#${l.id}">${l.title}</a></li>`,i=1,o="";c.forEach(l=>{l.level===i?o+=n(l):l.level<i?o+="</ol>".repeat(i-l.level)+n(l):o+=`<ol class="${s.ol}">${n(l)}`,i=l.level}),t.innerHTML=`<ol class="${s.ol}">${o}</ol>`}};window.TOCParser=a;})();
